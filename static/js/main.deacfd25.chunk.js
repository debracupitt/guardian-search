(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){},18:function(e,t,a){e.exports=a(51)},24:function(e,t,a){},25:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),l=a.n(c),s=(a(24),a(2)),i=a(3),o=a(5),u=a(4),d=a(6),m=function(e){return e.children},h=a(16),f=a.n(h);a(25);var v=function(e){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"The Guardian Lookup"))},p=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(m,null,r.a.createElement(v,null),r.a.createElement("main",{className:f.a.Content},this.props.children))}}]),t}(n.Component),E=a(17),b=a.n(E),w=(a(45),a(7)),O=(a(46),function(e){return r.a.createElement("div",{className:"Article",href:e.url},r.a.createElement("div",null,r.a.createElement("p",{className:"title"},e.title)),r.a.createElement("div",null,r.a.createElement("p",{className:"date"},e.date),r.a.createElement("a",{className:"link",href:e.url},"READ MORE"),r.a.createElement("p",{onClick:e.clicked,className:"save",title:"Save Article"},"SAVE")))}),j=(a(47),a(48),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("section",{className:"SavedSection drawer-closed",onClick:this.drawerToggle},r.a.createElement("h2",null,"Your Saved Articles"),r.a.createElement("div",{className:"saved-articles"},this.props.savedArticles)))}}]),t}(n.Component)),k=(a(49),function(e){return r.a.createElement("div",{className:"SavedArticle",href:e.url,id:e.id},r.a.createElement("div",null,r.a.createElement("p",{className:"title"},e.title)),r.a.createElement("div",null,r.a.createElement("p",{className:"date"},e.date),r.a.createElement("a",{className:"savedLink",href:e.url},"READ MORE"),r.a.createElement("p",{onClick:e.clicked,className:"delete",title:"Delete Article"},"DELETE")))}),N=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={results:[],savedResults:[]},a.reformatDate=function(e){var t=e.split("T")[0].split("-"),a=[];return a.push(t[2]),a.push(t[1]),a.push(t[0]),a.join("/")},a.checkSavedMatch=function(e,t){for(var a=0;a<e.length+1;a++)if(e[a].id===t)return a},a.saveHandler=function(e,t,n,r){if(void 0===a.state.savedResults.find(function(t){return t.id===e})){var c=[].concat(Object(w.a)(a.state.savedResults),[{id:e,webTitle:t,webPublicationDate:n,webUrl:r}]);a.setState({savedResults:c})}},a.deleteHandler=function(e){var t=a.checkSavedMatch(a.state.savedResults,e.target.parentNode.parentNode.id),n=Object(w.a)(a.state.savedResults);n.splice(t,1),a.setState({savedResults:n})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({results:this.props.articles})}},{key:"render",value:function(){var e=this,t=Object(w.a)(this.props.sections),a=this.props.articles,n=t.map(function(t){var n=a.map(function(a){return a.sectionName===t?r.a.createElement(O,{key:a.id,title:a.webTitle,date:e.reformatDate(a.webPublicationDate),url:a.webUrl,clicked:function(){return e.saveHandler(a.id,a.webTitle,e.reformatDate(a.webPublicationDate),a.webUrl)}}):""});return r.a.createElement("div",{className:"section",key:t},r.a.createElement("h3",null,t),r.a.createElement("div",{className:"sectionArticles"},n))}),c=this.state.savedResults.map(function(t){return r.a.createElement(k,{className:"saved",key:t.id,id:t.id,title:t.webTitle,date:t.webPublicationDate,url:t.webUrl,clicked:function(t){return e.deleteHandler(t)}})});return r.a.createElement("div",{className:"results-container"},r.a.createElement("section",{className:"Results"},n),r.a.createElement(j,{savedArticles:c}))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={searchInput:"",articles:[],sections:[],error:!1},a.handleChange=function(e){b.a.get("https://content.guardianapis.com/search?q="+e.target.value+"&api-key=27157d59-4928-405b-baff-081c8792db26").then(function(e){var t=new Set;e.data.response.results.forEach(function(e){return t.add(e.sectionName)}),a.setState({articles:e.data.response.results,sections:t})}).catch(function(e){a.setState({error:!0})}),a.setState({searchInput:e.target.value})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.error?r.a.createElement("h4",null," Sorry... looks like something has gone wrong"):r.a.createElement(N,{articles:this.state.articles,sections:this.state.sections});return r.a.createElement(m,null,r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"search",placeholder:"What are you looking for?",title:"Search",autoFocus:"autofocus",className:"searchInput",onChange:this.handleChange})),e)}}]),t}(n.Component),g=(a(50),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p,null,r.a.createElement(y,null)))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.deacfd25.chunk.js.map